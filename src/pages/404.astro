---
import { getEntry } from 'astro:content'
import { mergeAll } from 'remeda'
import Hero from '../blocks/hero/Hero.astro'
import Layout from '../layouts/Layout.astro'

const page = await getEntry('pages', '404')

const { data, ...rest } = page ?? {}
const baseSettings = await getEntry('settings', 'base')
const pageSettings = data?.settings && (await getEntry(data.settings))
const mergedData = mergeAll([baseSettings?.data, pageSettings?.data, data])
---

<Layout
  data={mergedData}
  {...rest}
>
  <Hero
    align="center"
    size="lg"
    label="404"
    heading="Pagina niet gevonden"
    text="Deze pagina bestaat niet of is verplaatst."
    buttons={[{ text: 'Naar home', href: '/', contrast: true }]}
  />
</Layout>
