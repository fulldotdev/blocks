---
import { Code } from 'astro:components'
import { getCollection } from 'astro:content'
import { Button, Header } from 'fulldev-ui'
import Layout from './Layout.astro'

const bookshops = await getCollection('blocks')

const { preview } = Astro.props
---

<Layout>
  <Header structure="wrap">
    {
      bookshops.map((block: any) => (
        <>
          <Button
            variant="link"
            href={`/blocks/${block.id}/`}
            text={block.id}
          />
        </>
      ))
    }
  </Header>
  <Code
    lang={'json'}
    code={JSON.stringify(preview, null, 2) ?? ''}
  />
  <slot />
</Layout>
