---
import type { HTMLTag } from 'astro/types'
import {
  Button,
  Header as FullHeader,
  Heading,
  Link,
  Logo,
  Row,
} from 'fulldev-ui'
import type { Block } from '../../schemas/block'

type Props<As extends HTMLTag = 'header'> = Omit<Block<As>, 'structure'> & {
  structure?: 'spread' | 'row' | 'column'
  align?: 'start' | 'center' | 'end'
  logo?: string
  heading?: string
  links?: any[]
  buttons?: any[]
}

const {
  align = 'center',
  structure = 'spread',
  logo,
  heading,
  links,
  buttons,
  href,
  ...rest
} = Astro.props
---

<FullHeader
  {align}
  {structure}
  {...rest}
>
  <Row
    style={{ textDecoration: 'none' }}
    as="a"
    href="/"
  >
    <Logo src={logo} />
    <Heading
      as="p"
      level={3}
      text={heading}
    />
  </Row>
  <Row>
    {links?.map((link, i) => <Link {...link} />)}
    {buttons?.map((button, i) => <Button {...button} />)}
  </Row>
</FullHeader>
