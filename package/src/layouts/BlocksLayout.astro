---
import { Code } from 'astro:components'
import { Button, Header } from 'fulldev-ui'
import Layout from './Layout.astro'

const bookshops = await Astro.glob('../components/blocks/**/*.yml')

const { preview } = Astro.props
---

<Layout>
  <Header structure="wrap">
    {
      bookshops.map((block) => (
        <>
          <Button
            variant="link"
            href={`/blocks/${block.spec.label}/`}
            text={block.spec.label}
          />
        </>
      ))
    }
  </Header>
  <Code
    lang={'json'}
    code={JSON.stringify(preview, null, 2) ?? ''}
  />
  <slot />
</Layout>
